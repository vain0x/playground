
参考: "ライティングソフトウェア" (和訳) 翔泳社
https://www.rightingsoftware.org/

他の分野で成功している工学的手法から学ぶ。
デザインのデシジョンツリーの根から葉に辿る。

機能別分解に基づいてデザインしてはいけない。
ドメイン別分解に基づいてデザインしてはいけない。
変動性に基づいて分解すること。

システムの要件が変化したときに全体に影響が波及するような部分を変動性と呼んでいるっぽい。
同じユーザーがシステムを使い続ける上で変動しているもの (第1軸) と、異なるユーザーが同じシステムを使うために変動可能であるべきもの (第2軸) がある。
家のデザインにおける変動領域の例: 家具、電化製品、住人、外観、公共サービス、構造、隣人、都市の法
トレーディングシステムにおける変動領域の例: ユーザー、クライアント(UA)、セキュリティ(認証)、通知、ストレージ、接続・同期、作業期間・デバイス、取引対象、ワークフロー、ロケール・規制、データフィード

変動領域の見つけかた
要件を装うソリューションから変動領域をみつける。
ビジネスの本質は変動領域でない。
変動性の分解を練習する: よくあるシステムを設計する、過去に作ったシステムを再設計する、システムでないものの変動性を探す

構造
文章ではなくダイアグラムを書く。
アクティビティ図は文章と違って並行性を自然に表現できる。
階層化
階層ごとにサービスを分けて通信する。スケーラビリティ、セキュリティ、スループット、応答性、信頼性、整合性、同期。
クライアント層、ビジネスロジック(Manager/Engine)、リソースアクセス、リソース
ユーティリティーバー
アトミックなビジネス動詞をリソースアクセス層に持たせる。

反復的にデザインし、漸進的に構築する。
内部通信と外部通信で同じメカニズムを使ってはならない。
柔軟性を得るためにカプセル性を犠牲にするのはまずい取引。

クローズドアーキテクチャ: 上位階層、同一階層、複数階層下の呼び出しを禁止する。
ハイブリッドアーキテクチャ: 上位階層と同一階層間の呼び出しは禁止するが、複数階層下の呼び出しは許可する。
対象性は優れたデザインの根本的な特徴。

組み立て
要件に合わせてデザインしてはならない。
要件を網羅的に集めることはできない。
コアユースケースをみつける。
デザインを検証する。すべてのコアユースケースがコンポーネント間の相互作用で記述できること。

機能とは実装の問題ではなくインテグレーションの問題である。
