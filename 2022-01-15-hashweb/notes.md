# Notes

基本方針

- 静的サイトジェネレータ
- 双方向リンク

用途

- アプリのドキュメント (チュートリアル、リファレンスマニュアル)
- 個人サイト (ブログ、情報サイト)

## 機能

- 一覧ページを生成できる
- 各ページファイルからhtmlを生成できる
- ページに、そのページへのリンクを含むページへのリンクを含める (リンクの双方向化)
- ページ内で使える機能
    - スラグ指定
    - コードフェンス
    - 見出し
    - ハッシュタグ (自動リンク化)
    - 外部リンク
    - インライン画像
    - インライン太字・下線
    - インラインコード
    - 「もっと読む」の範囲指定

## 使いかた

### ディレクトリ構造

- src/
    - pages/ : ページになるファイルを置く
        - blog/ : 日付順に並ぶファイルを置く
        - XXX.md
    - hashweb.conf : 設定ファイルを置く
- target/ : 生成先のディレクトリ
    - index.html : トップページ
    - - XXX.html : 生成されたページ (urlの設定)
    - static/ : 静的ファイルなどを置くディレクトリ

### サイト全体の設定項目

hashweb.conf に書く

- base (省略可)
    - サイトのトップページを指すパス名
    - 既定は `/`
    - 例えば base = /my-site だったら `http://example.com/my-site` がトップページになる
    - その他のページは base の下に配置される
        - 例えば #hash のページは `http://example.com/my-site/hash` になる

### ページごとの設定項目

ページ(markdown)のフロントマターに書く

- url (省略可)
    - ページを指すURLの末尾部分のパスを指定する。スラグと呼ぶ。省略時はファイルのベース名に等しい (pages/ はつかない)
    - 例えば url: fruits/apple だったら
        サイトのルートを `http://localhost/my-site/` として
        そのページのURlは `http://localhost/my-site/fruits/apple` になる
        - つまり targets/fruits/apple/index.html が生成される。
- title (省略可)
    - そのページの見出しを設定する。省略時はスラグに等しい
- alias (省略可。複数指定可能)
    - そのページへのリンクになる単語を増やす。(エイリアスの重複はエラー)
    - 例えば apple.md の中に title:りんご alias:林檎 としておくと #りんご と #林檎 はどちらも apple.html へのリンクになる
- date (必須)
    - 更新日時
- author (省略可。複数指定可能)
    - 筆者名。設定ファイルのauthor設定を上書きする。設定ファイルにauthor設定がなかったら必須

### リスト

一連のページをリストとして扱える。(入れ子なのでツリーにもできる)

- pages/XXX.conf に以下のように設定することで、XXX をリストとみなす
- pages/XXX/ ディレクトリ以下にあるページはリストの要素とみなす
    - ファイル名は `数値-名前.md` の形式にする
    - 数値の部分はソートに使われる。値自体は利用しない

```conf
# pages/XXX.conf
mode = list
```

例:

- pages/
    - guide.conf
    - guide/
        - 010-getting-started.md
        - 020-install.md
        - 090-advanced/
            - 010-unsafe-features.md

### ブログ

一連のページをブログとして扱える。リストと同様

- ファイル名は `yyyy-MM-dd-名前.md` または `yyyy-MM-dd.md` にする

```conf
# pages/XXX.conf
mode = blog
```

### もっと読む

- `<!--more-->` というコメントがあったら、先頭からその位置までをサマリーとみなす
- なかったら、先頭から最初の見出しまでをサマリーとみなす
